<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout2}">

<main layout:fragment="content" class="main">
    <div class="container" style="margin-top: 80px;">
        <!-- 게시판 리스트 -->
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">카테고리</th>
                            <th scope="col">포스트 제목</th>
                            <th scope="col">작성일</th>
                            <th scope="col">조회수</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <th scope="row">게시물 번호</th>
                            <td>카테고리 이름</td>
                            <td><a href="view">게시물 제목</a></td>
                            <td>작성일</td>
                            <td>3</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 검색바 -->
        <div class="row justify-content-center">
            <div class="col-lg-7">
                <form action="/list" method="post" name="searchForm">
                    <div class="row">
                        <div class="col-lg-3 px-1">
                            <select name="searchKey" class="form-control">
                                <option value="subject">제목</option>
                                <option value="content">내용</option>
                            </select>
                        </div>
                        <div class="col-lg-6 px-1">
                            <input type="text" name="searchValue" class="form-control" placeholder="검색어입력"/>
                        </div>
                        <div class="col-lg-3 px-1">
                            <input type="button" value=" 검색 " class="btn btn-secondary" style="height: 100%;" onclick="sendIt();"/>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>

<!-- 각 페이지의 JS가 작성될 위치 지정 -->
<th:block layout:fragment="script">
    <script th:inline="javascript">
        function sendIt() {
            var f = document.searchForm;
            var str = f.searchValue.value; // 검색어
            str = str.trim(); // 글자 양쪽 공백 제거

            if (!str) {
                alert("검색어를 입력하세요.");
                f.searchValue.focus(); // input 창에 포커스
                return;
            }

            f.submit(); // form 태그 안의 내용을 전송
        }
    </script>
</th:block>
</html>